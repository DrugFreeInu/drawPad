<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Chalk Cursor Base</title>

<style>
html, body {
  margin: 0;
  height: 100%;
  background: #0b0b0b;
  overflow: hidden;
}

#ui {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: rgba(20,30,60,0.4);
  backdrop-filter: blur(6px);
  padding: 14px 18px;
  border-radius: 18px;
  color: #9cc7ff;
  font-family: system-ui, sans-serif;
}

input[type="range"] {
  width: 160px;
}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div id="ui">
  Rotation<br>
  <input type="range" id="rot" min="-90" max="90" value="25">
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
addEventListener('resize', resize);
resize();

/* Cursor state */
let x = innerWidth / 2;
let y = innerHeight / 2;
let rotation = 25 * Math.PI / 180;
let wear = 0; // 0 â†’ 1

const BASE_WIDTH = 34;
const BASE_HEIGHT = 12;

document.addEventListener('mousemove', e => {
  const dx = e.clientX - x;
  const dy = e.clientY - y;
  const dist = Math.hypot(dx, dy);

  x = e.clientX;
  y = e.clientY;

  // wear increases with movement
  wear = Math.min(1, wear + dist * 0.0008);
});

/* Rotation slider */
const rotSlider = document.getElementById('rot');
rotSlider.addEventListener('input', () => {
  rotation = rotSlider.value * Math.PI / 180;
});

/* Draw loop */
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(rotation);

  const worn = wear * 8;

  // Chalk shape with worn corner
  ctx.beginPath();
  ctx.moveTo(-BASE_WIDTH/2 + worn, -BASE_HEIGHT/2);
  ctx.lineTo(BASE_WIDTH/2, -BASE_HEIGHT/2);
  ctx.lineTo(BASE_WIDTH/2, BASE_HEIGHT/2);
  ctx.lineTo(-BASE_WIDTH/2, BASE_HEIGHT/2 - worn);
  ctx.closePath();

  ctx.fillStyle = 'rgba(210,225,255,0.85)';
  ctx.fill();

  ctx.restore();

  requestAnimationFrame(draw);
}

draw();
</script>

</body>
</html>
